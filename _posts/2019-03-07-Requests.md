---
layout: post
title: "requests"
subtitle: 'requests'
author: "Haauleon"
header-style: text
tags:
  - Postman
  - Fiddler
  - 接口测试
---

&emsp;&emsp;经常要跟很多工具打交道，而我所用的工具也是最常见最通用的的。像是Postman、Fiddler这些功能强大的工具，不拿来玩玩都觉得对不起他。今天主要来说说如何使用工具来完成较高质量的接口测试任务，整篇文章的思路：为什么要有这个技术？这个技术解决了什么问题，然后才是这个技术是怎么使用的。




## 接口测试
&emsp;&emsp;大多情况下，我们说的接口测试一般都是指**协议接口测试**。那什么是协议接口呢？协议接口一般是指系统通过不同的协议（例如HTTP协议/SOAP协议等）提供的接口，这种类型的接口对底层代码进行了封装，通过协议的方式对外提供调用。因为不涉及底层程序，所以一般不受编程语言的限制。

### 接口测试的本质
&emsp;&emsp;为什么要谈论到本质呢？这是因为有次在运行接口自动化测试用例的时候，有几个接口返回的数据为空，我把这个接口Bug描述给开发同事，这位开发同事的第一反应就是想看我这边的日志找找报错原因，然后我很明确地回复他：“是看不到日志的”。为什么这么说呢？尽管我使用的单元测试框架也能提供丰富的日志，但这些日志的主要作用是用于在测试用例执行失败时能抛出清晰的失败原因；抑或在所有用例执行完后能提供丰富的执行结果，例如总执行时间、失败用例数、成功用例数、断言失败位置等等。                           

&emsp;&emsp;所以这里要澄清一下，**接口测试实际上是黑盒测试**。那什么是黑盒测试呢？黑盒测试指的是把被测的软件看作是一个黑盒子，我们不必去关心盒子里面的结构是什么样子的，只关心软件的输入数据和输出结果。那么这也就很清楚了，黑盒测试基本的测试思路是通过输入和输出判断被测系统或者对象的逻辑。所以在做接口测试的时候，不管你是擅长python还是java还是其他语言，其实都没什么太大关系。         

&emsp;&emsp;说到黑盒测试，不得不提一下白盒测试。白盒测试与黑盒测试正好相反，指的是把盒子打开，去研究里面的源代码和程序执行结果。主要应用在单元测试阶段，主要是对代码级的测试，针对程序内部逻辑构，测试手段有：语句覆盖、判定覆盖、条件覆盖、路径覆盖、条件组合覆盖。白盒测试也称结构测试或逻辑驱动测试，它是按照程序内部的结构测试程序，通过测试来检测产品内部动作是否按照设计规格说明书的规定正常进行，检验程序中的每条逻辑路径是否都能按预定要求正确工作。

## 为什么要做接口测试
&emsp;&emsp;说到接口测试，我其实蛮有感触的。有次在根据开发同事提供的接口文档来测试一个用户信息接口，一开始在数据里可以看到用户表内的所有字段都有值，但当我通过接口修改某一字段的值时，也就是表单提交成功之后，竟发现数据库里这个用户表内的另一字段值被清空。好可怕的Bug有木有！           

&emsp;&emsp;测试工作应该更早地介入到项目开发中，因为越早发现bug，修复的成本就越低。然后功测试必须要等到系统提供可测试的界面后才能进行，但是接口测试可以在功能未开发出来之前就可以对系统的接口进行测试，从而可以更早地发现问题并以更低的成本修复问题。

## 接口测试解决了什么问题

### 更早的发现问题
&emsp;&emsp;在一些实际的项目开发过程中，开发人员没有充足的时间去编写单元测试用例，当然可能还有其他原因~众所周知，单元测试-->集成测试-->系统测试，这三个阶段，越往上解决Bug的成本也会越高。正由于缺少单元测试，接口测试才变得十分重要。

### 缩短产品研发周期
&emsp;&emsp;更早介入测试带来的另一个好处是可以**缩短产品研发周期**，由于可以更早地发现并解决Bug，使得留到功能测试阶段被修复的Bug减少，从而缩短整个项目的上线时间。

### 发现更底层的问题
&emsp;&emsp;系统中的有些Bug如果想通过UI层功能测试会比较困难，或者构造测试条件非常复杂。比如，有次我想登录某个正开发的网站然后检查我的个人信息页面是否填写有误，但由于登录页面有问题（前端代码问题），因此在这样条件下，倘若你懂调用接口发送登录请求，就可以完美跳过登录页面的Bug。**一句讲晒，我们通常把UI层的验证称为弱验证。**这是因为它很容易被绕过，也就很难发现后端系统对一些异常情况的处理能力，比如，很简单的判空。

## 如何做好接口测试
&emsp;&emsp;这就要来说说我一贯使用的三板斧：python、fiddler、postman。如何去使用呢？且让我带你来玩转这三板斧吧。